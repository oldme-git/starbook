## 添加Api
---
*api/words/v1/learn_words.go*
```go
...

type SetLevelReq struct {  
    g.Meta `path:"words/{id}/level" method:"patch"`  
    Id     uint                   `json:"id" v:"required"`  
    Level  model.ProficiencyLevel `json:"level" v:"required|between:1,5"`  
}  
  
type SetLevelRes struct {  
}
```
## 编写Logic
---
*internal/controller/words/words_v1_set_level.go*
```go
...

// SetLevel 设置单词熟练度  
func SetLevel(ctx context.Context, id uint, level model.ProficiencyLevel) error {  
    if level < 0 || level > 5 {  
       return gerror.New("熟练度值不合法")  
    }  
  
    _, err := dao.Words.Ctx(ctx).Data(dao.Words.Columns().ProficiencyLevel, level).Where("id", id).Update()  
    return err  
}
```
## Controller调用Logic
---
*internal/logic/words/learn_words.go*
```go
package words  
  
import (  
    "context"  
  
    "star/api/words/v1"
    "star/internal/logic/words"
)  
  
func (c *ControllerV1) SetLevel(ctx context.Context, req *v1.SetLevelReq) (res *v1.SetLevelRes, err error) {  
    err = words.SetLevel(ctx, req.Id, req.Level)  
    return nil, err  
}
```
## 接口测试
---