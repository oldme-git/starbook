## 添加Api
---
*api/words/v1/words.go*
```go
...

type ListReq struct {  
    g.Meta `path:"words" method:"get" sm:"列表" tags:"单词"`  
    Word   string `json:"word" v:"length:1,100" dc:"模糊查询单词"`  
    Page   int    `json:"page" v:"min:1" dc:"页码，默认1"`  
    Size   int    `json:"size" v:"between:1,100" dc:"每页数量，默认10"`  
}  
  
type ListRes struct {  
    List  []entity.Words `json:"list"`  
    Total uint           `json:"total"`  
}
```
## 编写Logic
---
*internal/model/words.go*
```go
...
type WordQuery struct {  
    Word string  
    Page int `json:"page"`  
    Size int  
}
```

*internal/logic/words/words.go*
```go
...

func List(ctx context.Context, query *model.WordQuery) (list []entity.Words, total uint, err error) {  
    if query == nil {  
       query = &model.WordQuery{}  
    }  
    // 对于查询初始值的处理  
    if query.Page == 0 {  
       query.Page = 1  
    }  
    if query.Size == 0 {  
       query.Size = 15  
    }  
  
    // 组成查询链  
    db := dao.Words.Ctx(ctx)  
    // 模糊查询  
    if len(query.Word) != 0 {  
       db = db.Where("word like ?", "%"+query.Word+"%")  
    }  
    db = db.Order("created_at desc, id desc").Page(query.Page, query.Size)  
  
    data, totalInt, err := db.AllAndCount(true)  
    if err != nil {  
       return  
    }  
  
    list = []entity.Words{}  
    _ = data.Structs(&list)  
    total = uint(totalInt)  
  
    return  
}
```
## Controller调用Logic
---
*internal/controller/words/words_v1_list.go*
```go
package words  
  
import (  
    "context"  
  
    "star/api/words/v1"
    "star/internal/logic/words"
    "star/internal/model"
)  
  
func (c *ControllerV1) List(ctx context.Context, req *v1.ListReq) (res *v1.ListRes, err error) {  
    query := &model.WordQuery{  
       Word: req.Word,  
       Page: req.Page,  
       Size: req.Size,  
    }  
    list, total, err := words.List(ctx, query)  
    if err != nil {  
       return nil, err  
    }  
    return &v1.ListRes{  
       List:  list,  
       Total: total,  
    }, nil  
}
```

## 接口测试
---